<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> Tranformacion Conjuntas</title>
</head>
<body>
<h1>Transformacion de Vectores</h1>

<p>Vector para las transformaciones:</p>
<label for="transforminicial"Transformacion inicial:</label>
<input type="text" id="transforminicial placeholder: style="width: 300px;"><br>
<label for="transformfinal"Tranformacion final:</label>
<input type="text" id="transformfinal placeholder: style="width: 300px;"><br>
<button onclick="calcularTransformacion()">Calcular</button>

<h2>Vector Resultado</h2>
<p id="resultado"></p>

<script>
// Función para aplicar una traslación a un vector (x, y)
function translate(x, y, tx, ty) {
    return [x + tx, y + ty];
}


// Función para aplicar una rotación a un vector (x, y) en grados
function rotate(x, y, angleDegrees) {
    const angleRadians = (angleDegrees * Math.PI) / 180;
    const newX = x * Math.cos(angleRadians) - y * Math.sin(angleRadians);
    const newY = x * Math.sin(angleRadians) + y * Math.cos(angleRadians);
    return [newX, newY];
}

// Función para aplicar un escalado a un vector (x, y)
function scale(x, y, scaleX, scaleY) {
    return [x * scaleX, y * scaleY];
}

function calcularTransformacion() {
    const transforminicialInput = document.getElementById("transforminicial").value;
    const transformfinalInput = document.getElementById("transformfinal").value;

    const [transforminicialName, transforminicialArgs] = transforminicialInput.split("(");
    const [transformfinalName, transformfinalArgs] = transformfinalInput.split("(");

    const transforminicialArgsParsed = transforminicialArgs.split(",").map(arg => parseFloat(arg));
    const transformfinalArgsParsed = transformfinalArgs.split(",").map(arg => parseFloat(arg));

    const x = parseFloat(prompt("Ingrese el valor de x:"));
    const y = parseFloat(prompt("Ingrese el valor de y:"));

    let result = [x, y];
    
    if (transforminicialName === "T"{
        result = translate(result[0], result[1], transforminicialArgsParsed[0], transforminicialArgsParsed[1]);
    }else if (transforminicialName === "R"{
        result = rotate(result[0], result[1], transforminicialArgsParsed[0]);
    }else if (transforminicialName === "S"{
        result = scale(result[0], result[1], transforminicialArgsParsed[0], transforminicial[1]);
    }

    if (transformfinalName === "T"{
        result = translate(result[0], result[1], transformfinalArgsParsed[0], transformfinalArgsParsed[1]);
    }else if (transformfinalName === "R"{
        result = rotate(result[0], result[1], transformfinalArgsParsed[0]);
    }else if (transformfinalName === "S"{
        result = scale(result[0], result[1], transformfinalArgsParsed[0], transformfinal[1]);
    }
    





    